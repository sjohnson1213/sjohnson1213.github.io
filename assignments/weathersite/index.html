<!doctype html>
<html lang="en">
<head>
<meta charset="utf-8">
<meta name="description" content="Home page for the weather website">
<meta name="author" content="Serene Matheson">

<title>Wise Weather Home Page</title>

<!-- TELLS PHONES NOT TO LIE ABOUT THEIR WIDTH & stops the font from enlarging when a phone is turned sideways-->
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">




<!-- STYLE SHEETS -->
<link href="css/normalize.css" rel="stylesheet">
<!-- phone-default -->
<link href="css/small.css" rel="stylesheet">
<!-- enhance-tablet -->
<link href="css/medium.css" rel="stylesheet">
<!-- enhance-desktop -->
<link href="css/large.css" rel="stylesheet">


     
</head>
<body>
<!-- HEADER HERE -->
	<header>
        <img src="images/weather-icon.png" alt="Logo">
        <div class="headertext">
            <h1>Wise Weather Man</h1> 
            <div class="subheading">
                Keeping you up to date with all the weather needs        
            </div>             
        </div>
        <div class="currentconditions">
            <img id="currentimage" src="images/sunny.png" alt="Current condition weather icon">
            <p id="currentword">Sunny</p>
        </div>
    </header>
    
    
<!-- NAVIGATION HERE -->
    <nav>
        <ul class="navbar">
            <li><a href="index.html ">Home</a></li>
            <li><a href="preston.html">Preston</a></li>
            <li><a href="sodasprings.html">Soda Springs</a></li>
            <li><a href="fishhaven.html">Fish Haven</a></li>
            <li><a href="../lesson-8/stormcenter.html">Storm Center</a></li>
            <li><a href="../lesson-7/gallery.html">Gallery</a></li>            
        </ul>
    </nav>
    
    
<!-- CONTENT HERE -->
    <main>
        <header>

        </header>

        <section>
 
        </section>
        <script>
            var section = document.querySelector('section');
            var requestURL = 'https://github.com/sjohnson1213/sjohnson1213.github.io/blob/master/assignments/weathersite/js/towndata.json';
            var request = new XMLHttpRequest();
            
            request.open('GET', requestURL);    
            request.responseType = 'json';
            request.send();
        
            request.onload = function() {
                var TownData = request.response;
                showData(TownData);
            }
        
        
            function showData(jsonObj) {
            var townNames = jsonObj['towns'];
              
          for (var i = 0; i < townNames.length; i++) {
            var myArticle = document.createElement('article');
            var myH2 = document.createElement('h2');
            var myPara1 = document.createElement('p');
            var myPara2 = document.createElement('p');
            var myPara3 = document.createElement('p');
            var myPara4 = document.createElement('p');
        
            myH2.textContent = townNames[i].name;
            myPara1.textContent = townNames[i].motto;
            myPara2.textContent = 'Year Founded: ' + townNames[i].yearFounded;
            myPara3.textContent = 'Population:' + townNames[i].currentPopulation;
            myPara4.textContent = 'Annual Rainfall:' + townNames[i].averageRainfall;

            }
        
            myArticle.appendChild(myH2);
            myArticle.appendChild(myPara1);
            myArticle.appendChild(myPara2);
            myArticle.appendChild(myPara3);
            myArticle.appendChild(myPara4);
        
            section.appendChild(myArticle);
        }
        
        </script>
    </main>
    
<!-- FOOTER HERE -->   
    <footer>
        <p>
            &copy;2018 Serene Matheson Terms of Use <script> document.write(new Date().toLocaleDateString()); </script>
        </p>
    </footer>

</body>
</html>